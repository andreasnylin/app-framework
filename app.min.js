// App framework version 0.5 2013-09-02
// Created by Andreas Nylin andreas.nylin@gmail.com
var App=function(){function d(a){return"init"in a?!0:(alert("Error: module must have init method."),!1)}function m(a,b,c){b=e.isString(b)?[b]:b;for(var f=b.length,g,d,h=function(){0===--f&&c.call(a)};d=b.shift();)g=document.createElement("script"),document.head.appendChild(g),g.onload=h,g.src=d}function h(){0===--k&&$.each(l,function(){this.call(this)})}var c={},l=[],f={},n=0,k=0,e={isString:function(a){return"string"===typeof a},isFunction:function(a){return"function"===typeof a},isObject:function(a){return"object"===
typeof a}};(function(){$(function(){$.each(c,function(){"require"in this?m(this,this.require,function(){this.init();h()}):"init"in this&&(this.init(),h())})})})();return{module:function(){if(1===arguments.length){var a=arguments[0];if(e.isString(a))return c[a];if(e.isObject(a)){var b="unnamed"+n++;d(a)&&(a.name=b,c[b]=a)}}else 2===arguments.length?(a=arguments[0],b=arguments[1],d(b)&&(b.name=a,c[a]=b)):alert("Error: registering module.");k++;return this},ready:function(a){if("function"!==typeof a)alert("Error: argument is not a function.");
else return l.push(a),this},global:function(){if(1===arguments.length){var a=arguments[0];if(e.isObject(a)){for(var b in a)a.hasOwnProperty(b)&&(f[b]=a[b]);return this}if(e.isString(a))return f[a]}else if(2===arguments.length)return f[arguments[0]]=arguments[1],this}}}();
