// App framework version 0.6 2013-09-18
// Created by Andreas Nylin andreas.nylin@gmail.com
var App=function(){function h(a,b){var d=void 0===b.name;d||alert("Error: Module contains a reserved word.");d&&(b.name=a,b.events={},b.on=n,b.trigger=p,c[a]=b)}function q(a,b,d){b=f.isString(b)?[b]:b;for(var r=b.length,e,c,g=function(){0===--r&&d.call(a)};c=b.shift();)e=document.createElement("script"),document.head.appendChild(e),e.onload=g,e.src=c}function k(){0===--l&&$.each(m,function(){this.call(this)})}function n(a,b){this.events[a]||(this.events[a]=[]);this.events[a].push(b)}function p(a,
b){var d=this.events[a],c,e;c=0;for(e=d.length;c<e;c++)d[c].call(this,b)}var c={},m=[],g={},s=0,l=0,f={isString:function(a){return"string"===typeof a},isFunction:function(a){return"function"===typeof a},isObject:function(a){return"object"===typeof a}};(function(){$(function(){$.each(c,function(){"require"in this?q(this,this.require,function(){"init"in this&&(this.init(),k())}):"init"in this&&(this.init(),k())})})})();return{module:function(){if(1===arguments.length){var a=arguments[0];if(f.isString(a))return c[a];
f.isObject(a)&&h("unnamed"+s++,a)}else 2===arguments.length?h(arguments[0],arguments[1]):alert("Error: registering module.");l++;return this},ready:function(a){if("function"!==typeof a)alert("Error: argument is not a function.");else return m.push(a),this},global:function(){if(1===arguments.length){var a=arguments[0];if(f.isObject(a)){for(var b in a)a.hasOwnProperty(b)&&(g[b]=a[b]);return this}if(f.isString(a))return g[a]}else if(2===arguments.length)return g[arguments[0]]=arguments[1],this}}}();
